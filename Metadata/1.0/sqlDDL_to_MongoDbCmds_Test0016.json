{
    "workflowId": 2265,
    "workflowName": "sqlDDL_to_MongoDbCmds_Test(0016)",
    "nodes": [
        {
            "agentName": "CONVERT_SQL_DDL_CMDS_TO_MongoDbCmds_Test(0016) ",
            "model": "gpt-4",
            "tools": [],
            "task": {
                "description": "As a Senior Software Engineer, your task is to write a program that converts SQL DDL commands into equivalent MongoDB commands. Follow these detailed instructions to complete the task:\n\nINSTRUCTIONS:\n1. Parse the input SQL DDL commands to identify the following components:\n   - Table name\n   - Column definitions (name, data type, constraints like PRIMARY KEY, NOT NULL, UNIQUE, etc.)\n   - Relationships (if any, such as FOREIGN KEYS)\n2. Map SQL data types to MongoDB-compatible data types. For example:\n   - `VARCHAR` -> `String`\n   - `INT` -> `Number`\n   - `BOOLEAN` -> `Boolean`\n   - `DATE` -> `Date`\n3. Translate SQL constraints into MongoDB schema validation rules. For example:\n   - `NOT NULL` -> `required: true`\n   - `UNIQUE` -> Create a unique index on the field.\n4. Represent the table structure as a MongoDB collection schema using JSON Schema or Mongoose-like syntax.\n5. Handle relationships by embedding documents or using references, depending on the relationship type (one-to-one, one-to-many, many-to-many).\n6. Generate the equivalent MongoDB commands for creating collections, indexes, and validation rules.\n7. Ensure the output is well-structured and adheres to MongoDB standards.\n\nOUTPUT FORMAT:\nThe output should include:\n- Collection name\n- Schema definition in JSON format\n- Index creation commands (if applicable)\n- Any additional MongoDB commands required to replicate the SQL DDL functionality\n\nSAMPLE:\nInput SQL DDL Command:\n```\nCREATE TABLE Users (\n  id INT PRIMARY KEY,\n  username VARCHAR(50) NOT NULL UNIQUE,\n  email VARCHAR(100) NOT NULL,\n  created_at DATE\n);\n```\n\nEquivalent MongoDB Output:\n{\n  \"collectionName\": \"Users\",\n  \"schema\": {\n    \"id\": {\"type\": \"Number\", \"required\": true},\n    \"username\": {\"type\": \"String\", \"required\": true, \"unique\": true},\n    \"email\": {\"type\": \"String\", \"required\": true},\n    \"created_at\": {\"type\": \"Date\"}\n  },\n  \"indexes\": [\n    {\"field\": \"username\", \"unique\": true}\n  ]\n}\n\nAdditional Notes:\n- Ensure that the program can handle complex SQL DDL commands, including those with multiple constraints and relationships.\n- Validate the output to ensure it is compatible with MongoDB's syntax and functionality.\n- Provide meaningful error messages for unsupported SQL features or invalid input.\n",
                "expectedOutput": "A JSON representation of MongoDB commands equivalent to the given SQL DDL commands."
            }
        }
    ]
}