{
    "workflowId": 1447,
    "workflowName": "SSIS_Package_to_Python_Doc&Analyze",
    "nodes": [
        {
            "agentName": "SSIS_Package_Documentation",
            "model": "gpt-4o",
            "tools": [],
            "task": {
                "description": "Please create detailed documentation for the provided SSIS package.\n\nThe documentation must contain the following sections:  \n\n1. Overview of Package:  \n   - Explain the purpose of the SSIS package in detail.  \n   - Describe how this implementation aligns with enterprise data integration and ETL processes.  \n   - Explain the business problem being addressed and its benefits.  \n   - Provide a high-level summary of SSIS components like Control Flow, Data Flow, Event Handlers, and Package Parameters.  \n\n2. Package Structure and Design:  \n   - Explain the structure of the SSIS package in detail.  \n   - Describe key components like Control Flow Tasks, Data Flow Components, Variables, and Parameters.  \n   - List the primary SSIS components such as Connection Managers, Containers, Transformations, Sources, and Destinations.  \n   - Highlight dependencies on external systems, Project/Package Parameters, and third-party components.  \n\n3. Data Flow and Processing Logic:  \n   - Explain how data flows within the SSIS implementation.  \n   - List the source and destination systems, tables, fields, and data types.  \n   - Explain the applied transformations, including Derived Columns, Lookups, Aggregations, and Conditional Splits.  \n\n4. Data Mapping:  \n   * Provide data mapping details, including transformations applied to the data in the below format:  \n   * Target System/Table | Target Column Name | Source System/Table | Source Column Name | Transformation/Remarks\n   * Transformation column will have the details whether it's 1-to-1 mapping or the transformation logic or the validation rule  \n\n5. Performance Optimization Strategies:  \n   - Explain optimization techniques used in the SSIS package implementation.  \n   - Describe strategies like Parallel Processing, Buffer Tuning, Pipeline Optimization, and In-Memory Transformations.  \n   - Explain how performance is improved using techniques like Lookup Caching, Fast Load options, and Data Flow Engine Tuning.  \n   - Provide real-world examples of optimization benefits.  \n\n6. Technical Elements and Best Practices:  \n   - Explain the technical elements involved in the SSIS package.  \n   - List system dependencies such as Connection Managers, 32/64-bit Runtime, and SQL Server versions.  \n   - Mention best practices like Package Configurations, Checkpoints, and Transaction Handling.  \n   - Specify additional SSIS tools like SSIS Catalog, SSISDB, and SQL Server Agent Jobs.  \n   - Describe error handling, logging, and exception tracking methods.  \n\n7. Complexity Analysis:  \n   - Analyze and document the complexity based on the following:  \n   - Give this one in the table format with below two columns for the below data\nCategory  |  Measurement\n* Number of Tasks: Count of tasks in Control Flow.\n* Number of Data Flows: Count of Data Flow Tasks in the package.\n* Containers: Number of Sequence, For Loop, Foreach Loop containers.\n* Sources and Destinations: Number and types of source and destination components.\n* Transformations: Number and types of transformation components.\n* Precedence Constraints: Number and types of precedence constraints.\n* Variables and Parameters: Number of variables and parameters.\n* Event Handlers: Number of event handlers.\n* Script Tasks/Components: Number of Script Tasks or Script Components.\n* Expressions: Number of property expressions.\n* Package Configurations: Number of configurations.\n* Connection Managers: Number and types of connection managers.\n* Estimated Data Volume: Volume of data processed.\n* Package Execution Time: Typical execution time range.\n* Overall Complexity Score: Score from 0 to 100.\n\n8. Assumptions and Dependencies:  \n   - List system prerequisites such as SQL Server version, SSIS runtime, and access credentials.  \n   - Mention infrastructure dependencies, including source/destination systems, file shares, or cloud storage.  \n   - Note assumptions about data consistency, schema evolution, and resource availability.  \n\n9. Key Outputs:  \n   - Describe final outputs such as Data Warehouse Tables, Flat Files, or API Calls.  \n   - Explain how outputs align with business goals and reporting needs.  \n   - Specify the destination systems and formats (e.g., SQL Server Tables, Flat Files, Excel Files, External Data Sources).  \n\n10. Error Handling and Logging:  \n    - Explain methods used for error identification and management, such as:  \n      - Error Output paths in Data Flow components.  \n      - Event Handlers for capturing errors.  \n      - SSIS Logging Options (SSISDB, Text File, SQL Profiler, SQL Server).  \n      - Custom logging tables and error handling frameworks.\n      - Execution failure notification mechanisms.\n\n11. Deployment and Execution Strategy:\n    - Explain the deployment model (Package, Project, or SSIS Catalog).\n    - Describe execution methods (SQL Server Agent, Command Line, SSIS Catalog).\n    - Detail scheduling mechanisms and dependencies on other SSIS packages or systems.\n    - Outline environment-specific configurations (Dev, Test, Production).\n\n12. Security and Compliance:\n    - Document security implementations (Package Protection Level, Sensitive Data).\n    - Describe authentication methods for source and destination systems.\n    - List compliance considerations (Data Masking, Audit Trails, Data Lineage).\n    - Explain how the package handles PII or other sensitive data.\n\nInput:\n* For SSIS package analysis use below file:\n```%1$s```",
                "expectedOutput": "1. Overview of Package:  \n   - Explain the purpose of the SSIS package in detail.  \n   - Describe how this implementation aligns with enterprise data integration and ETL processes.  \n   - Explain the business problem being addressed and its benefits.  \n   - Provide a high-level summary of SSIS components like Control Flow, Data Flow, Event Handlers, and Package Parameters.  \n\n2. Package Structure and Design:  \n   - Explain the structure of the SSIS package in detail.  \n   - Describe key components like Control Flow Tasks, Data Flow Components, Variables, and Parameters.  \n   - List the primary SSIS components such as Connection Managers, Containers, Transformations, Sources, and Destinations.  \n   - Highlight dependencies on external systems, Project/Package Parameters, and third-party components.  \n\n3. Data Flow and Processing Logic:  \n   - Explain how data flows within the SSIS implementation.  \n   - List the source and destination systems, tables, fields, and data types.  \n   - Explain the applied transformations, including Derived Columns, Lookups, Aggregations, and Conditional Splits.  \n\n4. Data Mapping:  \n* Provide data mapping details, including transformations applied to the data in the below format:  \n* Target System/Table | Target Column Name | Source System/Table | Source Column Name | Transformation/Remarks\n* Transformation column will have the details whether it's 1-to-1 mapping or the transformation logic or the validation rule  \n\n5. Performance Optimization Strategies:  \n   - Explain optimization techniques used in the SSIS package implementation.  \n   - Describe strategies like Parallel Processing, Buffer Tuning, Pipeline Optimization, and In-Memory Transformations.  \n   - Explain how performance is improved using techniques like Lookup Caching, Fast Load options, and Data Flow Engine Tuning.  \n   - Provide real-world examples of optimization benefits.  \n\n6. Technical Elements and Best Practices:  \n   - Explain the technical elements involved in the SSIS package.  \n   - List system dependencies such as Connection Managers, 32/64-bit Runtime, and SQL Server versions.  \n   - Mention best practices like Package Configurations, Checkpoints, and Transaction Handling.  \n   - Specify additional SSIS tools like SSIS Catalog, SSISDB, and SQL Server Agent Jobs.  \n   - Describe error handling, logging, and exception tracking methods.  \n\n7. Complexity Analysis:  \n   - Analyze and document the complexity based on the following:  \n   - Give this one in the table format with below two columns for the below data\nCategory  |  Measurement\n* Number of Tasks: Count of tasks in Control Flow.\n* Number of Data Flows: Count of Data Flow Tasks in the package.\n* Containers: Number of Sequence, For Loop, Foreach Loop containers.\n* Sources and Destinations: Number and types of source and destination components.\n* Transformations: Number and types of transformation components.\n* Precedence Constraints: Number and types of precedence constraints.\n* Variables and Parameters: Number of variables and parameters.\n* Event Handlers: Number of event handlers.\n* Script Tasks/Components: Number of Script Tasks or Script Components.\n* Expressions: Number of property expressions.\n* Package Configurations: Number of configurations.\n* Connection Managers: Number and types of connection managers.\n* Estimated Data Volume: Volume of data processed.\n* Package Execution Time: Typical execution time range.\n* Overall Complexity Score: Score from 0 to 100.\n\n8. Assumptions and Dependencies:  \n   - List system prerequisites such as SQL Server version, SSIS runtime, and access credentials.  \n   - Mention infrastructure dependencies, including source/destination systems, file shares, or cloud storage.  \n   - Note assumptions about data consistency, schema evolution, and resource availability.  \n\n9. Key Outputs:  \n   - Describe final outputs such as Data Warehouse Tables, Flat Files, or API Calls.  \n   - Explain how outputs align with business goals and reporting needs.  \n   - Specify the destination systems and formats (e.g., SQL Server Tables, Flat Files, Excel Files, External Data Sources).  \n\n10. Error Handling and Logging:  \n    - Explain methods used for error identification and management, such as:  \n      - Error Output paths in Data Flow components.  \n      - Event Handlers for capturing errors.  \n      - SSIS Logging Options (SSISDB, Text File, SQL Profiler, SQL Server).  \n      - Custom logging tables and error handling frameworks.\n      - Execution failure notification mechanisms.\n\n11. Deployment and Execution Strategy:\n    - Explain the deployment model (Package, Project, or SSIS Catalog).\n    - Describe execution methods (SQL Server Agent, Command Line, SSIS Catalog).\n    - Detail scheduling mechanisms and dependencies on other SSIS packages or systems.\n    - Outline environment-specific configurations (Dev, Test, Production).\n\n12. Security and Compliance:\n    - Document security implementations (Package Protection Level, Sensitive Data).\n    - Describe authentication methods for source and destination systems.\n    - List compliance considerations (Data Masking, Audit Trails, Data Lineage).\n    - Explain how the package handles PII or other sensitive data.\n\n13. apiCost: float  // Cost consumed by the API for this call (in USD)\n* Ensure the cost consumed by the API is mentioned with inclusive of all decimal value"
            }
        },
        {
            "agentName": "SSIS_Package_to_Python_Analyzer",
            "model": "gpt-4o",
            "tools": [],
            "task": {
                "description": "Parse the provided SSIS package to generate a detailed analysis and metrics report. Ensure that if multiple packages are given as input, then analysis for each package is presented as a distinct section. Each section must include:\n\n1. Package Overview:\n   * Provide a high-level description of the SSIS package's purpose and primary business objectives.\n\n2. Complexity Metrics:\n   * Number of Components: Count of tasks and components in the SSIS package.\n   * Control Flow Tasks: Number and types of control flow tasks (e.g., Data Flow Task, Execute SQL Task, Script Task).\n   * Data Flow Components: Number of Source, Transformation, and Destination components.\n   * Variables and Parameters: Count of variables and parameters defined in the package.\n   * Connection Managers: Number and types of connection managers used.\n   * Expressions: Number of expressions used in the package for dynamic property configurations.\n   * Event Handlers: Number of custom event handlers implemented in the package.\n   * Containers: Number of Sequence Containers, For Loop Containers, or Foreach Loop Containers.\n\n3. Conversion Challenges:\n   * Identify the number of conversion challenges between the SSIS package and the expected Python equivalent.\n\n4. Manual Adjustments:\n   * Recommend specific manual adjustments for components and features incompatible with Python, including:\n     * Component replacements (e.g., SSIS-specific components with Python library equivalents).\n     * Syntax adjustments for features like expressions and script tasks.\n     * Strategies for rewriting unsupported features such as precedence constraints (e.g., replacing with Python flow control).\n\n5. Conversion Complexity:\n   * Calculate a complexity score (0\u2013100) based on component differences, control flow logic, and the level of manual adjustments required.\n   * Highlight high-complexity areas such as complex transformations, custom script components, or SSIS-specific features.\n\n6. Optimization Techniques:\n   * Suggest optimization strategies for Python, such as parallel processing, memory management, and code design improvements.\n   * Recommend if it's better to refactor the package with minimal changes to Python or rebuild with more code changes and optimization. Provide reason for the recommendation for refactor and rebuild.\n\n7. Python Framework Recommendations:\n   * Suggest appropriate Python frameworks for implementing the equivalent ETL process (e.g., pandas, SQLAlchemy, Apache Airflow, Luigi).\n   * Recommend the most suitable Python libraries for specific SSIS components (e.g., pyodbc for database connections, pandas for data transformations).\n\n8. Execution Model Differences:\n   * Highlight differences in execution models between SSIS and Python, including scheduling, logging, and error handling approaches.\n\n9. Additionally, calculate and include the cost consumed by the API for this call in the output, explicitly mentioning the cost in USD:\n   * Include the cost consumed by the API for this call in the output.\n   * Ensure the cost consumed by the API is reported as a floating-point value with currency explicitly mentioned as USD (e.g., apiCost: actual cost).\n   * Ensure the cost consumed by the API is mentioned with inclusive of all decimal value.\n\nInput:\n* For SSIS Package use the below file:\n```%1$s```",
                "expectedOutput": "1. Package Overview:\n* Provide a high-level description of the SSIS package's purpose and primary business objectives.\n\n2. Complexity Metrics:\nGive this one in the table format with the below column names:\n* Number of Components: Count of tasks and components in the SSIS package.\n* Control Flow Tasks: Number and types of control flow tasks (e.g., Data Flow Task, Execute SQL Task, Script Task).\n* Data Flow Components: Number of Source, Transformation, and Destination components.\n* Variables and Parameters: Count of variables and parameters defined in the package.\n* Connection Managers: Number and types of connection managers used.\n* Expressions: Number of expressions used in the package for dynamic property configurations.\n* Event Handlers: Number of custom event handlers implemented in the package.\n* Containers: Number of Sequence Containers, For Loop Containers, or Foreach Loop Containers.\n\n3. Conversion Challenges:\n* Identify the number of significant differences between the SSIS package components and their Python equivalents.\n\n4. Manual Adjustments:\n* Recommend specific manual adjustments for components and features incompatible with Python, including:\n    * Component replacements (e.g., SSIS transformations with Python library equivalents).\n    * Syntax adjustments for features like expressions and data type handling.\n    * Strategies for rewriting unsupported features such as precedence constraints (e.g., replacing with Python flow control).\n\n5. Conversion Complexity:\n* Calculate a complexity score (0\u2013100) based on component differences, control flow logic, and the level of manual adjustments required.\n* Highlight high-complexity areas such as complex transformations, custom script components, or SSIS-specific features.\n\n6. Optimization Techniques:\n* Suggest optimization strategies for Python, such as parallel processing, memory management, and code design improvements.\n* Recommend if it's better to Refactor the package with minimal changes to Python or Rebuild with more code changes and optimization. Provide reason for the recommendation for Refactor and Rebuild.\n\n7. apiCost: float  // Cost consumed by the API for this call (in USD)\n* Ensure the cost consumed by the API is mentioned with inclusive of all decimal value"
            }
        },
        {
            "agentName": "SSIS_Package_to_Python_Plan",
            "model": "claude-3.7sonnet",
            "tools": [],
            "task": {
                "description": "You are tasked with providing a comprehensive effort estimate for testing the Python code converted from SSIS packages. Follow these instructions to complete the task:\n\nINSTRUCTIONS:\n1. Review the analysis of the SSIS package, note component differences and areas requiring manual intervention when converting to Python\n2. Estimate the effort hours required for identified manual code fixes and data validation testing effort\n3. Don't consider efforts for standard component conversions as they will be converted to equivalent Python functions\n4. Consider the resource requirements for Python execution environment\n5. Calculate the estimated cost of running the converted Python code:\n   a. Use the resource requirements and data volume to determine the execution cost.\n   b. Consider the number of processes and the data processing done with the source systems and intermediary data storage\n\nINPUT:\n* Take the previous SSIS to Python Analyzer agent's output as input\n* For the input SSIS package use this file: ```%1$s```\n* For the input Python Environment Details use this file: ```%2$s```",
                "expectedOutput": "# OUTPUT FORMAT:\n1. Cost Estimation\n   1.1 Python Runtime Cost \n      - provide the calculation breakup of the cost and the reasons\n2. Code Fixing and Testing Effort Estimation\n   2.1 Python identified manual component conversion and unit testing effort in hours covering the various transformations, control flows, and data pipelines\n   2.2 Effort in hours to validate the result from the Python program output that compares the output from SSIS package and Python script\n   2.3 Total Estimated Effort in Hours\n      - provide the reason for the total effort hours and how it was arrived\n* Include the cost consumed by the API for this call in the output.\n* Ensure the cost consumed by the API is reported as a floating-point value with currency explicitly mentioned as USD (e.g., apiCost: 0.12345 USD)."
            }
        }
    ]
}