{
  "data": {
    "message": "Workflow with agents retrieved successfully",
    "workFlowDetail": {
      "id": 2036,
      "name": "DI SSIS To DBTCloud Doc&Analysis",
      "description": "SSIS Package Documentation, Analyzer and Plan",
      "createdBy": "kiran.krishnakumar@ascendion.com",
      "modifiedBy": "kiran.krishnakumar@ascendion.com",
      "approvedBy": "kiran.krishnakumar@ascendion.com",
      "createdAt": "2025-11-05T10:44:42.361949",
      "modifiedAt": "2025-12-03T15:03:31.224436",
      "approvedAt": "2025-11-05T10:44:43.451935",
      "status": "APPROVED",
      "isDeleted": false,
      "parentId": -1,
      "workflowConfigs": {
        "managerLlm": [
          {}
        ],
        "enableAgenticMemory": false
      },
      "workflowAgents": [
        {
          "serial": 2,
          "agentId": 3529,
          "name": "DI SSIS To DBTCloud Analyzer ",
          "workflowId": 2036,
          "agentDetails": {
            "topP": 0.94,
            "maxRpm": null,
            "levelId": 99,
            "maxIter": null,
            "toolRef": [],
            "maxToken": "8000",
            "isVerbose": true,
            "temperature": 0.2,
            "allowDelegation": true,
            "maxExecutionTime": 90,
            "allowCodeExecution": false,
            "isSafeCodeExecution": true,
            "toolReferences": []
          },
          "modelDeploymentName": "gpt-4.1",
          "description": "Parse the uploaded SSIS `.dtsx` package and produce a detailed migration analysis report with the following structure:\n\n1. Package Overview:  \n* Describe the purpose of the SSIS package, identifying its main tasks and business objective.\n\n2. Component Metrics:  \nProvide a table with the following columns:  \n* Control Flow Tasks: Total number and types (e.g., Execute SQL Task, Data Flow Task, Script Task)  \n* Data Flow Components: Number of Source, Transformation, and Destination components  \n* Variables Used: Number of package-level and scoped variables  \n* Connection Managers: Count and types of connection managers used (e.g., OLE DB, Flat File)  \n* Expressions: Number of expressions and variables using dynamic evaluations  \n* Precedence Constraints: Count of conditional task paths  \n* Looping Structures: Count of For Loop and Foreach Loop containers  \n* Event Handlers: Number of event handler routines defined  \n\n3. Conversion Feasibility:  \n* List each SSIS component and assess whether it has a direct mapping in DBT. Use tags like:\n    * \u2705 Direct Mapping\n    * \u26a0\ufe0f Needs Transformation\n    * \u274c Not Supported\n* Highlight complex constructs like Script Tasks, Dynamic SQL, or Custom Components\n\n4. Manual Adjustments:  \n* Recommend specific transformations required to convert unsupported or complex logic to DBTCloud, such as:\n    * Script Tasks \u2192 Refactor logic into staging tables or DBT macros  \n    * Data Flow Transformations \u2192 Rebuild using CTEs or incremental models  \n    * Conditional Task Paths \u2192 Implement via Jinja templating in DBT Cloud \n    * Logging/Event Handling \u2192 Replace with DBT Cloud artifacts and observability features  \n\n5. Conversion Complexity Score (0\u2013100):  \n* Score based on number of unsupported components, nesting depth, and dynamic logic  \n* Highlight the areas driving up complexity  \n\n6. Target Architecture Recommendation:  \n* Recommend whether to:\n    * Refactor (minimal changes, high fidelity)\n    * Rebuild (significant changes, better performance/flexibility)  \n* Justify recommendation based on maintainability, performance, and future extensibility\n\n7. Optimization Strategies:  \n* Suggest DBT Cloud best practices:\n    * Use of incremental models  \n    * CTE refactoring for transformations  \n    * Source freshness and testing frameworks  \n    * Tagging and documentation integration  \n\n8. apiCost: float  // Cost consumed by the API for this call (in USD)  \n* Report API usage cost with all decimal places, explicitly stating the currency (e.g., `apiCost: 0.00371 USD`)  \n\nInput:\n\n* For SSIS package file use the below file:  \n{{SSIS_Package}}",
          "modelName": "model"
        },
        {
          "serial": 3,
          "agentId": 3818,
          "name": "DI SSIS To DBTCloud Plan",
          "workflowId": 2036,
          "agentDetails": {
            "topP": 0.94,
            "maxRpm": null,
            "levelId": 99,
            "maxIter": null,
            "toolRef": [],
            "maxToken": "8000",
            "isVerbose": true,
            "temperature": 0.2,
            "allowDelegation": true,
            "maxExecutionTime": 90,
            "allowCodeExecution": false,
            "isSafeCodeExecution": true,
            "toolReferences": []
          },
          "modelDeploymentName": "gpt-4.1",
          "description": "You are tasked with providing a comprehensive development and testing effort estimate for converting SSIS packages into DBT Cloud models. Follow these instructions:  \n\nINSTRUCTIONS:  \n1. Review the metadata and complexity analysis generated by the `DI_SSIS_To_DBTCloud_Analyzer` agent.  \n2. Identify tasks, transformations, or patterns that require manual translation into DBT constructs.  \n3. Exclude direct-mapping elements from effort calculation. Focus only on custom logic, script tasks, control flow handling, and event management.  \n4. Estimate the number of hours required to:  \n   - Redesign complex components in DBT (e.g., conditional flows, dynamic SQL, looping logic)  \n   - Implement and test DBT models, macros, seeds, and documentation  \n   - Perform data validation between SSIS and DBT Cloud outputs  \n5. If cloud execution cost is required, use available Snowflake environment pricing based on execution pattern, volume, and frequency.  \n\nOUTPUT FORMAT:  \n\n1. Development and Testing Effort Estimation  \n   1.1 Manual Code Refactoring Effort  \n        - Provide hours estimated for transforming SSIS-specific elements into DBT Cloud logic  \n        - Include handling for Script Tasks, Expressions, Looping, Event Handlers  \n\n   1.2 Unit and Reconciliation Testing Effort  \n        - Estimate hours for validating correctness of data pipelines, especially for variables, conditional paths, and derived transformations  \n\n2. Cloud Execution Cost (Optional)  \n   2.1 DBT Cloud Runtime Cost (if Snowflake details are available)  \n        - Provide breakup of model execution cost based on volume processed and execution pattern  \n        - Highlight assumptions such as number of runs per day, average data volume per run  \n\n3. apiCost  \n   * Include the cost consumed by the API for this call in the output  \n   * Ensure the cost is reported as a floating-point value with currency explicitly mentioned as USD (e.g., `apiCost: 0.00431 USD`)  \n\nINPUT:  \n* Take the previous DI_SSIS_To_DBTCloud_Analyzer agent\u2019s output as input  \n* For the input SSIS package use this file: {{SSIS_Package}}\n* For the input environment configuration (e.g., Snowflake cost or capacity settings) use this file: {{Environment_Confi_Plan}}",
          "modelName": "model"
        }
      ],
      "realmId": 32
    }
  },
  "status": "SUCCESS"
}