{
  "data": {
    "message": "Workflow with agents retrieved successfully",
    "workFlowDetail": {
      "id": 2102,
      "name": "DI Lvdash Review Test Workflow",
      "description": "Lvdash_Review_Test_Agent Workflow",
      "createdBy": "sushal.devasari@ascendion.com",
      "modifiedBy": "sushal.devasari@ascendion.com",
      "approvedBy": "sushal.devasari@ascendion.com",
      "createdAt": "2025-11-05T10:47:11.074677",
      "modifiedAt": "2025-12-03T15:03:31.224436",
      "approvedAt": "2025-11-05T10:47:12.142638",
      "status": "APPROVED",
      "isDeleted": false,
      "parentId": -1,
      "workflowConfigs": {
        "managerLlm": [
          {}
        ],
        "enableAgenticMemory": false
      },
      "workflowAgents": [
        {
          "serial": 1,
          "agentId": 3916,
          "name": "DI Powerbi To DataBricks lvdashJson Generate",
          "workflowId": 2102,
          "agentDetails": {
            "topP": 0.94,
            "maxRpm": null,
            "levelId": 99,
            "maxIter": null,
            "toolRef": [
              4
            ],
            "maxToken": "30000",
            "isVerbose": true,
            "temperature": 0.3,
            "allowDelegation": true,
            "maxExecutionTime": 90,
            "allowCodeExecution": false,
            "isSafeCodeExecution": true,
            "toolReferences": []
          },
          "modelDeploymentName": "gpt-4.1",
          "description": "****MASKED****",
          "modelName": "model"
        },
        {
          "serial": 2,
          "agentId": 3936,
          "name": "DI Databricks LvdashJson Review Agent",
          "workflowId": 2102,
          "agentDetails": {
            "topP": 0.94,
            "maxRpm": null,
            "levelId": 99,
            "maxIter": null,
            "toolRef": [],
            "maxToken": "8000",
            "isVerbose": true,
            "temperature": 0.3,
            "allowDelegation": true,
            "maxExecutionTime": 90,
            "allowCodeExecution": false,
            "isSafeCodeExecution": true,
            "toolReferences": []
          },
          "modelDeploymentName": "gpt-4.1",
          "description": "Instructions : \n1. Parse & Map\n\t\u2022 Parse (.lvdash.json) from previous agent to extract visuals, fields, measures, filters, sorts, and metadata.\n\t\u2022 Map every referenced field/measure to the datamodelschema in %1$s.\n2. Deterministic Checks\n\t\u2022 Field existence: verify all columns/measures exist in the model.\n\t\u2022 Type compatibility: check that field types match their usage.\n\t\u2022 Aggregation clarity: ensure measures/numeric fields have explicit aggregation (SUM, AVG, etc.).\n\t\u2022 Filter validity: confirm filters/slicers reference valid fields.\n\t\u2022 Date handling: ensure date visuals use valid date fields and specify granularity.\n\t\u2022 Cross-table joins: detect joins that may be ambiguous or risky.\n3. Heuristic & Best-Practice Checks\n\t\u2022 Required visual elements present (based on dimensional model).\n\t\u2022 Visual and axis naming meets conventions.\n\t\u2022 Flag performance anti-patterns (e.g., unbounded TopN, heavy cross-joins).\n\t\u2022 Check measure dependency tree for circular or missing references.\n\t\u2022 Testability check for SQL validation feasibility.\n4. Knowledgebase Reference Checks\n\t\u2022 Compare structure, visual configurations, and naming conventions with the knowledgebase .lvdash.json.\n\t\u2022 Identify deviations from the baseline template unless justified by the dimensional model.\n\t\u2022 Recommend changes to align with organizational standards.\n5. Scoring\nWeighted compliance score example:\n\t\u2022 Field existence \u2014 30\n\t\u2022 Aggregation clarity \u2014 25\n\t\u2022 Visual-to-model compatibility \u2014 15\n\t\u2022 Testability readiness \u2014 10\n\t\u2022 Naming & documentation \u2014 10\n\t\u2022 Performance risk \u2014 10\nCompliance Score = 0\u2013100\n",
          "modelName": "model"
        },
        {
          "serial": 3,
          "agentId": 3919,
          "name": "DI Databricks LvdashJson TestCase Agent",
          "workflowId": 2102,
          "agentDetails": {
            "topP": 0.94,
            "maxRpm": null,
            "levelId": 99,
            "maxIter": null,
            "toolRef": [],
            "maxToken": "8000",
            "isVerbose": true,
            "temperature": 0.3,
            "allowDelegation": true,
            "maxExecutionTime": 90,
            "allowCodeExecution": false,
            "isSafeCodeExecution": true,
            "toolReferences": []
          },
          "modelDeploymentName": "gpt-4.1",
          "description": "This agent ingests the reviewed .lvdash.json output from the Review Agent together with the project\u2019s dimensional data model.\nIt then:\n1.Parses every visual, field, and filter from the dashboard spec.\n2.Uses the dimensional model to determine expected data types, joins, and aggregations.\n3.Creates a list of atomic, reproducible test cases to validate each element of the dashboard.\n4.For each test case, generates a corresponding SQL query that can be executed in Databricks to confirm expected results.\n5.Tags each test case with severity and scope to aid in prioritization.\n\n- Input :\n    Take the output of the previous agent (reviewed dashboard specification) as input: '''%1$s'''\n    For Dimensional Model use the below file: '''%2$s'''\n\n- Processing & Checks (what this agent does)\n    Visual Coverage \u2192 Create at least one test case for every visual in .lvdash.json.\n    Field & Measure Verification \u2192 Ensure each field in visuals is validated for existence, correct aggregation, and correct filter application.\n    Filter Logic Validation \u2192 Check that slicers and filters yield the expected subset of data.\n    Aggregation Accuracy \u2192 Verify SUM, AVG, COUNT, etc. match the intended calculation in the model.\n    Join & Relationship Testing \u2192 Validate that cross-table joins produce correct and consistent results.\n    Edge Cases \u2192 Include tests for null values, empty datasets, or extreme ranges if relevant.\n    Performance Checks (Optional) \u2192 Identify visuals that require expensive queries and flag them for optimization testing.",
          "modelName": "model"
        }
      ],
      "realmId": 32
    }
  },
  "status": "SUCCESS"
}