{
    "pipeline": {
        "pipelineId": 1032,
        "name": "DI_Oracle_to_SF_Data_Model_Consolidation",
        "description": "Consolidating Oracle and Snowflake data model",
        "createdAt": "2025-05-09T12:01:27.553+00:00",
        "pipeLineAgents": [
            {
                "serial": 1,
                "agent": {
                    "id": 1324,
                    "name": "DI_Oracle_to_Snowflake_Data_Model_Consolidation ",
                    "role": "Data modeler",
                    "goal": "Identify mismatches between Oracle and Snowflake data models and generate Oracle-to-Snowflake mapping and CREATE statements for Oracle-only structures, while leaving existing Snowflake structures unchanged.",
                    "backstory": "During Oracle to Snowflake migrations, schema mismatches are common. However, in hybrid environments or during partial migrations, it's critical to preserve Snowflake schemas as-is. This agent focuses on analyzing mismatches while mapping Oracle elements to Snowflake equivalents and generating new Snowflake-compatible DDLs only when no equivalent exists. No modifications should be suggested for Snowflake.",
                    "verbose": true,
                    "allowDelegation": true,
                    "updatedAt": "2025-05-02T10:48:26.166682",
                    "llm": {
                        "modelDeploymentName": "gpt-4.5-preview",
                        "model": "gpt-4",
                        "modelType": "Generative",
                        "aiEngine": "AzureOpenAI",
                        "topP": 0.949999988079071,
                        "maxToken": 4000,
                        "temperature": 0.30000001192092896,
                        "llmDeploymentName": "gpt-4.5-preview",
                        "apiKey": "****MASKED****",
                        "azureEndpoint": "https://da-cognitive-account-demo.openai.azure.com/",
                        "llmApiVersion": "2025-01-01-preview"
                    },
                    "task": {
                        "description": "You are tasked with analyzing Oracle and Snowflake data models to identify mismatches and generate:\n- Oracle-to-Snowflake mappings where differences exist\n- CREATE TABLE statements only for Oracle tables Additional in Snowflake\n\nThe Snowflake structure should **not** be updated or altered in any way.\n\nInstructions:\n\n**Metadata Requirements:**\n- Add the following metadata at the top of each converted/generated file:\n```\n=============================================\nAuthor: Ascendion AVA+\nDate: (Leave it Empty)\nDescription: <one-line description of the converted code>\n=============================================\n```\n- If existing headers are present, update them to match this format while preserving relevant descriptions.\n- The description should summarize the content and purpose of the generated code or mapping\n\n**Mismatch Identification (do not suggest Snowflake changes):**\n1. Compare Oracle and Snowflake data models to identify:\n   - Additional tables in Snowflake\n   - Table name mismatches\n   - Additional column in Snowflake\n   - Column name mismatches within common tables\n   - Data type mismatches for common columns\n\n2. For data type comparison, consider functional equivalence:\n   - Equivalent types (e.g., Oracle NUMBER vs. Snowflake INT) are acceptable\n   - Incompatible types (e.g., Oracle VARCHAR vs. Snowflake INT) should be highlighted\n\n3. For any mismatch, **only map** Oracle schema to existing Snowflake schema (do not alter Snowflake).\n   - Table name mapping\n   - Column name mapping\n   - Data type mapping\n\n4. For tables that exist in Oracle but are completely missing in Snowflake:\n   - Generate `CREATE TABLE` statements in Snowflake-compatible syntax\n\n5. Ignore any extra objects in Snowflake that are not present in Oracle.\n\n6. Do not suggest any ALTER statements or DDL changes to Snowflake tables.\n\n7. Do not include constraints, indexes, or partitioning differences unless critical for compatibility.\n\nINPUT:\n* For Oracle data model and Snowflake data model use the below files as input:\n```%1$s```",
                        "expectedOutput": "- **Metadata Header:** As described above\n\n1. **Mismatch Mapping Table:**\n   - **Additional Tables:**  \n     Columns: Oracle Table Name | Snowflake Equivalent | Mapping/Action  \n     If a table is functionally similar but named differently, map it. Otherwise, recommend creation.\n\n   - **Mapping Tables:**  \n     Map only if table names are mismatched else dont add those tables\n     Columns: Oracle Table Name | Snowflake Table Name | Mapping\n\n   -  **Additional Columns:**  \n     Columns: Oracle Table | Oracle Column | Snowflake Table | Snowflake Column | Mapping/Action  \n     If a column is functionally similar but named differently, map it. Otherwise, recommend creation.\n\n   - **Mapping Columns:**  \n     Map only if column names are mismatched else dont add those columns\n     Columns: Oracle Table | Oracle Column | Snowflake Table | Snowflake Column | Mapping\n\n   - **Data Type Mismatches:**  \n     Columns: Oracle Table | Oracle Column | Oracle Data Type | Snowflake Table | Snowflake Column | Snowflake Data Type | Mapping\n\n2. **Proposed Unified Entity Mapping (No Changes to Snowflake):**\n   - Provide best-fit Snowflake equivalents for Oracle elements.\n   - Justify mapping choices (functionality, naming, compatibility).\n\n3. **Alter Scripts (Snowflake):**\n   - ALTER TABLE Command only for column that exist in Oracle but are completely absent in Snowflake.\n\n4. **DDL Creation Scripts (Snowflake):**\n   - `CREATE TABLE` only for tables that exist in Oracle but are completely absent in Snowflake.\n\n5. **API Cost:**\n   - Show estimated API cost in $ for the LLM call.\n\n**IMPORTANT:**\n- Only add Metadata Header in the top of the output dont add more than one time"
                    },
                    "maxIter": 0,
                    "maxRpm": 0,
                    "maxExecutionTime": 0,
                    "tools": [],
                    "userTools": [],
                    "allowCodeExecution": false,
                    "isSafeCodeExecution": true
                }
            }
        ],
        "enableAgenticMemory": false,
        "levelId": 99,
        "org": "Ascendion",
        "orgId": 1,
        "domain": "Data&Insights",
        "domainId": 96,
        "projectId": 98,
        "project": "AllProjects",
        "teamId": 99,
        "team": "AVA Team",
        "callbacks": []
    }
}