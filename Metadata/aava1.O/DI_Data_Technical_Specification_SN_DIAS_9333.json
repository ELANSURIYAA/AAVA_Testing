{
    "pipeline": {
        "pipelineId": 9333,
        "name": "DI_Data_Technical_Specification_SN_DIAS",
        "description": "DI_Data_Technical_Specification_SN_DIAS",
        "createdAt": "2025-11-28T12:18:12.455+00:00",
        "pipeLineAgents": [
            {
                "serial": 1,
                "agent": {
                    "id": 11607,
                    "name": "DI_Workbench_Input_Validator_Async",
                    "role": "Automation Workflow Agent",
                    "goal": "Relay the input parameter 'runnable_instance_id' to the next agent in the workflow upon initiation.",
                    "backstory": "In automated workflows, seamless communication between agents is crucial for maintaining efficiency and ensuring that tasks are executed in the correct sequence. Passing the 'runnable_instance_id' parameter ensures that the next agent has the necessary context to proceed with its assigned task.",
                    "verbose": true,
                    "allowDelegation": true,
                    "updatedAt": "2025-11-24T09:30:02.647285",
                    "llm": {
                        "modelDeploymentName": "gpt-4o",
                        "model": "gpt-4o",
                        "modelType": "Generative",
                        "aiEngine": "AzureOpenAI",
                        "topP": 0.0,
                        "maxToken": 1500,
                        "temperature": 0.10000000149011612,
                        "llmDeploymentName": "gpt-4o",
                        "apiKey": "****MASKED****",
                        "azureEndpoint": "https://avaplus-cognitive-account-int.openai.azure.com/",
                        "llmApiVersion": "2024-09-01-preview"
                    },
                    "task": {
                        "description": "Your task is to accept the 'running_instance_id' given by the user and pass it to the next agent in Json format.\nInput:-\n{{running_instance_id}}\n\nINSTRUCTIONS:\n1. Accept the 'running_instance_id' given by the user as input.\n2. Pass the 'running_instance_id' in the Output as given in the below Json format.\nMust not change the 'running_instance_id'. The value received in the input must be passed in the output with the same value.\n\nOUTPUT FORMAT:\n{\n  \"running_instance_id\": \"[value received in the input]\"\n}",
                        "expectedOutput": "A JSON object containing the 'running_instance_id'"
                    },
                    "maxIter": 1,
                    "maxRpm": 0,
                    "maxExecutionTime": 30,
                    "tools": [],
                    "userTools": [],
                    "allowCodeExecution": false,
                    "isSafeCodeExecution": true
                }
            },
            {
                "serial": 2,
                "agent": {
                    "id": 12191,
                    "name": "DI_Data_Technical_Specification_SN_DIAS",
                    "role": "Data Engineer",
                    "goal": "Develop a detailed technical specification document based on the provided inputs, outlining code changes, data model updates, and source-to-target mapping with transformation rules.  ",
                    "backstory": "This task is critical for ensuring seamless integration of the new source table into the existing data pipeline and data models. A well-defined technical specification will serve as the blueprint for developers and stakeholders, reducing ambiguity, ensuring alignment, and maintaining data integrity across the system. The specification will also facilitate efficient implementation of the enhancement and help prevent downstream issues during deployment.  ",
                    "verbose": true,
                    "allowDelegation": true,
                    "updatedAt": "2026-01-20T13:18:46.582067",
                    "llm": {
                        "modelDeploymentName": "Anthropic.claude-4-sonnet",
                        "model": "anthropic.claude-4-sonnet",
                        "modelType": "Generative",
                        "aiEngine": "AmazonBedrock",
                        "topP": 0.949999988079071,
                        "maxToken": 12000,
                        "temperature": 0.30000001192092896,
                        "bedrockModelId": "us.anthropic.claude-sonnet-4-20250514-v1:0",
                        "region": "us-east-1",
                        "accessKey": "****MASKED****",
                        "secretKey": "****MASKED****"
                    },
                    "task": {
                        "description": "****MASKED****",
                        "expectedOutput": "**Mode 1 Output**:\n* Display the Data Technical Specification SN output\n* And store the Data Technical Specification SN output in the GitHub output directory with the file name as `DI_Data_Technical_Specification_SN_<version>.py` \u2014 Contains all sections above in  format.\n\n**Mode 2 Output**:\n* Display the updated Data Technical Specification SN output\n* And store the updated Data Technical Specification SN output in the GitHub output directory with the file name as `DI_Data_Technical_Specification_SN_<next_version>.py` \u2014 Updated Data Technical Specification SN with requested changes applied, preserving structure and formatting.\n\n**Print the outputURL.\n**Print the pipelineID."
                    },
                    "maxIter": 20,
                    "maxRpm": 0,
                    "maxExecutionTime": 400,
                    "tools": [],
                    "userTools": [
                        {
                            "toolId": 300,
                            "toolName": "DI_Github_File_Writer_Z",
                            "toolClassName": "GitHubFileWriterTool",
                            "toolClassDef": "****MASKED****",
                            "isApproved": false
                        },
                        {
                            "toolId": 344,
                            "toolName": "DI_GitHub_File_Reader_Z",
                            "toolClassName": "GitHubFileReaderTool",
                            "toolClassDef": "****MASKED****",
                            "isApproved": false
                        },
                        {
                            "toolId": 1175,
                            "toolName": "DI_JiraStoryReaderTool",
                            "toolClassName": "JiraStoryReaderTool",
                            "toolClassDef": "****MASKED****",
                            "isApproved": false
                        }
                    ],
                    "allowCodeExecution": false,
                    "isSafeCodeExecution": true
                }
            },
            {
                "serial": 3,
                "agent": {
                    "id": 11613,
                    "name": "DI_Workbench_Workflow_CallBack_Agent_Async",
                    "role": "Automation Test Engineer",
                    "goal": "Execute a workflow callback tool to send specific inputs and retrieve the status of the POST request.",
                    "backstory": "This task is critical for ensuring that workflows are properly monitored and their execution statuses are accurately reported. By sending the required inputs to the callback tool, the system can track the progress and completion of various pipeline instances, enabling seamless automation and error handling.",
                    "verbose": true,
                    "allowDelegation": true,
                    "updatedAt": "2025-11-24T09:27:53.67207",
                    "llm": {
                        "modelDeploymentName": "gpt-4.1",
                        "model": "gpt-4",
                        "modelType": "Generative",
                        "aiEngine": "AzureOpenAI",
                        "topP": 0.0,
                        "maxToken": 5000,
                        "temperature": 0.10000000149011612,
                        "llmDeploymentName": "gpt-4.1",
                        "apiKey": "****MASKED****",
                        "azureEndpoint": "https://avaplus-cognitive-account-int.openai.azure.com/",
                        "llmApiVersion": "2025-01-01-preview"
                    },
                    "task": {
                        "description": "As an Automation Test Engineer, your task is to utilize the Dynamic API Caller Tool to send specific inputs and retrieve the status of the POST request.\n\nInput: You will receive a JSON input from the previous agent. In this JSON, you will receive outputUrl, running_instance_id and pipeline_id. All the values must be retained.\n\nFollow these detailed instructions to complete the task:\nINSTRUCTIONS:\n1. Gather the required inputs from the previous agent, including:\n   - `outputUrl`: The URL where the workflow output is stored that you received in the input. If nothing or null value is received in the input, put Null in this.\n   - `running_instance_id`: The unique identifier for the running instance is taken from the Agent **Workbench_Input_Validator_Zoom_Async** output.\n   - `pipeline_id`: The unique identifier for the pipeline that you received in the input\n2. Ensure the inputs are correctly formatted and validated before proceeding.\n3. Use the Workbench_Dynamic_API_Caller_Z Tool to send a POST request to the endpoint `https://20.106.193.253:8080/v1/api/workbench/agent/monitoring/callback` with the payload :\npayload = {\n                \"outputUrl\": outputUrl that you received in the input, If nothing or null value is received in the input, put Null in this.\n                \"running_instance_id\": running_instance_id that you received in the input,\n                \"pipeline_id\" : pipeline_id that you received in the input (Integer Input should be considered, dont enclose in `\" \"`.)\n            }\nwith headers - \"Content-Type: application/json\"\n4. No need to check for authentication credentials or its related headers, use No auth.\n5. Verify that the POST request is successfully sent and retrieve the status of the request.\n6. Log the status and any relevant details for further analysis or debugging.\nOUTPUT FORMAT:\nThe output should be structured as follows:\n{\n  \"status\": \"[Status of the POST request]\",\n  \"details\": \"[Additional information about the request, if any]\"\n}\nSAMPLE:\n{\n  \"status\": \"Success\",\n  \"details\": \"POST request completed successfully. Workflow execution tracked.\"\n}\nEnsure that the output strictly adheres to the JSON format and includes all necessary fields.\n\nValues :\nthe outputURL : The output url is output of the previous agent.\nPipeline ID: pipeline ID is the output of the previous agent.\n",
                        "expectedOutput": "A JSON object containing the status and details of the POST request."
                    },
                    "maxIter": 10,
                    "maxRpm": 0,
                    "maxExecutionTime": 300,
                    "tools": [],
                    "userTools": [
                        {
                            "toolId": 957,
                            "toolName": "Workbench_Dynamic_API_Caller_Z",
                            "toolClassName": "DynamicAPICaller",
                            "toolClassDef": "import requests\nimport urllib3\nfrom typing import Any, Type, Optional, Dict, Union\nfrom pydantic import BaseModel, Field\nfrom crewai.tools import BaseTool\n\n# -------------------------------------------------\n# SSL bypass settings\n# -------------------------------------------------\n# Disable warnings about insecure HTTPS requests\nurllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)\n\n# NOTE: When verify=False is used below, requests will not validate server certificates.\nVERIFY_SSL = False  # \u2705 Set this to True when you fix certificate issues\n\n\nclass DynamicAPICallerSchema(BaseModel):\n    '''Input schema for DynamicAPICaller.'''\n    url: str = Field(..., description=\"The API endpoint URL to call\")\n    method: str = Field(..., description=\"HTTP method to use for the API call (e.g., GET, POST, PUT, DELETE)\")\n    headers: Optional[Dict[str, str]] = Field(None, description=\"Optional headers for the API call\")\n    params: Optional[Dict[str, Any]] = Field(None, description=\"Optional query parameters for the API call\")\n    data: Optional[Union[Dict[str, Any], str]] = Field(None, description=\"Optional form-encoded or raw payload for the API request\")\n    json: Optional[Dict[str, Any]] = Field(None, description=\"Optional JSON payload for the API call\")\n\n\nclass DynamicAPICaller(BaseTool):\n    '''\n    DynamicAPICaller - A tool to dynamically call any API endpoint.\n    '''\n\n    name: str = \"Dynamic API Caller\"\n    description: str = \"A tool to dynamically call any API endpoint.\"\n    args_schema: Type[BaseModel] = DynamicAPICallerSchema\n\n    def _run(\n        self,\n        url: str,\n        method: str,\n        headers: Optional[Dict[str, str]] = None,\n        params: Optional[Dict[str, Any]] = None,\n        data: Optional[Union[Dict[str, Any], str]] = None,\n        json: Optional[Dict[str, Any]] = None\n    ) -> Dict[str, Any]:\n        try:\n            print(f\"Making {method} request to {url} with headers={headers}, params={params}, data={data}, json={json}\")\n\n            response = requests.request(\n                method=method.upper(),\n                url=url,\n                headers=headers,\n                params=params,\n                data=data,\n                json=json,\n                timeout=60,\n                verify=VERIFY_SSL  # \u2705 Disable SSL verification if set to False\n            )\n\n            return {\n                \"status\": \"success\",\n                \"status_code\": response.status_code,\n                \"response_body\": (\n                    response.json()\n                    if \"application/json\" in response.headers.get(\"Content-Type\", \"\")\n                    else response.text\n                )\n            }\n\n        except requests.RequestException as e:\n            return {\n                \"status\": \"error\",\n                \"error\": str(e)\n            }\n",
                            "isApproved": false
                        }
                    ],
                    "allowCodeExecution": false,
                    "isSafeCodeExecution": true
                }
            }
        ],
        "enableAgenticMemory": false,
        "levelId": 99,
        "org": "Ascendion",
        "orgId": 1,
        "domain": "Data&Insights",
        "domainId": 96,
        "projectId": 98,
        "project": "AllProjects",
        "teamId": 99,
        "team": "AVA Team",
        "callbacks": []
    }
}