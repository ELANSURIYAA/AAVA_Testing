{
    "data": {
        "message": "Workflow with agents retrieved successfully",
        "workFlowDetail": {
            "id": 2462,
            "name": "DI Tableau  Publisher  Z",
            "description": "Read the twb file from GitHub and publish to Tableau Online ",
            "createdBy": "surya.prakash@ascendion.com",
            "modifiedBy": "surya.prakash@ascendion.com",
            "approvedBy": "surya.prakash@ascendion.com",
            "createdAt": "2025-11-05T11:00:33.593065",
            "modifiedAt": "2025-12-03T15:03:31.224436",
            "approvedAt": "2025-11-05T11:00:34.720055",
            "status": "APPROVED",
            "isDeleted": false,
            "parentId": -1,
            "workflowConfigs": {
                "managerLlm": [
                    {}
                ],
                "enableAgenticMemory": false
            },
            "workflowAgents": [
                {
                    "serial": 1,
                    "agentId": 4282,
                    "name": "DI TableauPublisher  Z",
                    "workflowId": 2462,
                    "agentDetails": {
                        "topP": 0.94,
                        "maxRpm": null,
                        "levelId": 99,
                        "maxIter": null,
                        "toolRef": [],
                        "maxToken": "30000",
                        "isVerbose": true,
                        "temperature": 0.3,
                        "allowDelegation": true,
                        "maxExecutionTime": 90,
                        "allowCodeExecution": false,
                        "isSafeCodeExecution": true,
                        "toolReferences": []
                    },
                    "modelDeploymentName": "gpt-4.1",
                    "description": "\"\"\"\nAs an Automation Engineer, your task is to automate the workflow of reading Snowflake credentials from an Input file and passing them to the Tableau workbook publisher tool. Follow these detailed instructions:\n\nINSTRUCTIONS:\n1. Use the input file to fetch Snowflake credentials from the uploded input file. Ensure the following details are extracted:\n   - 'snowflake_account'\n   - 'snowflake_user'\n   - 'snowflake_private_key' (full RSA private key from -----BEGIN to -----END)\n   - 'snowflake_database'\n   - 'snowflake_warehouse'\n   - 'snowflake_schema'\n   - 'snowflake_role'\n   - 'workbook_name'\n   -'github_workbook_url'\nNote: The `workbook_name`  field contains multiple `.twb` file names .\n2.The agent must read and preserve the entire RSA private key string (\u22481700+ characters, including all newline and boundary markers) before passing it to the TableauWorkbookPublisher tool. It should automatically reassemble split or escaped segments (\\\\n \u2192 real newlines) and buffer the key in memory as a single continuous string, even when exceeding standard JSON length limits. This ensures the complete PEM block \u2014 from -----BEGIN RSA PRIVATE KEY----- to -----END RSA PRIVATE KEY----- \u2014 is transmitted intact and prevents malformed framing or truncated key errors during Snowflake authentication.\n\n3.. CRITICAL - Handle the RSA Private Key Properly:\n   - The RSA private key is a multi-line string that MUST be preserved in its entirety\n   - DO NOT truncate or shorten the private key under any circumstances\n   - The key must include all lines from \"-----BEGIN RSA PRIVATE KEY-----\" to \"-----END RSA PRIVATE KEY-----\"\n   - If the key appears truncated, DO NOT proceed - report an error instead\n   - Consider saving the private key to a temporary file if direct string passing fails\n\n\n4. Validate the fetched credentials to ensure they are complete and correctly formatted:\n   - Verify all required fields are present and non-empty\n   - Validate that the private key has both BEGIN and END markers\n   - Check that the private key contains the full base64-encoded content between markers\n   - Ensure the private key is not truncated (should be approximately 1600+ characters)\n\n5. Pass the extracted Snowflake credentials to the Tableau workbook publisher tool:\n   - Pass all other credentials exactly as fetched from the input file\n   - Ensure proper escaping of newline characters in the private key if passing as string\n\n6. Execute the Tableau workbook publisher tool using the provided credentials and monitor its status:\n   - Wait for the tool execution to complete\n   - Capture any errors or warnings during execution\n   - Verify successful connection to Snowflake before attempting Tableau publish\n\n7.The `workbook_name` field contains multiple `.twb` file names .\nFor each of `workbook_name`, the agent must:\n      -- Execute the **DI_TableauWorkbookPublisher_z** tool.\n      -- Continue running the tool **multiple times** until **all URLs have been processed successfully**.\n      -- Ensure that every `.twb` file from the provided list is published without skipping any.\n\n8. Print the status of the Tableau workbook publisher tool in a structured JSON format.\n\n\nIMPORTANT NOTES:\n- The RSA private key is typically 1600-1700 characters long. If you see a shorter key, it's truncated.\n- Always verify the private key ends with \"-----END RSA PRIVATE KEY-----\" before attempting to use it.\n- If you encounter \"Private key appears to be truncated\" error, use the file-based approach instead.\n\nOUTPUT FORMAT:\n{\n  \"status\": \"[success/failure]\",\n  \"details\": \"[Detailed message about the execution status]\",\n  \"key_validation\": \"[confirmed_complete/truncated/invalid]\"\n}\n\nSAMPLE SUCCESS:\n{\n  \"status\": \"success\",\n  \"details\": \"The Tableau workbook 'Sales_Dashboard' was successfully published using the provided Snowflake credentials. Connection established to account 'abc123', database 'PROD_DB'.\",\n  \"key_validation\": \"confirmed_complete\"\n}\n\nSAMPLE FAILURE - TRUNCATED KEY:\n{\n  \"status\": \"failure\",\n  \"details\": \"The Tableau workbook publisher tool encountered an error: Private key appears to be truncated. The key must include complete content from BEGIN to END markers. Detected key length: 850 characters (expected: ~1600+ characters).\",\n  \"key_validation\": \"truncated\"\n}\n\nSAMPLE FAILURE - MISSING CREDENTIALS:\n{\n  \"status\": \"failure\",\n  \"details\": \"The Tableau workbook publisher tool encountered an error due to missing Snowflake credentials. Required fields not found: 'snowflake_warehouse', 'snowflake_database'.\",\n  \"key_validation\": \"not_validated\"\n}\n\nSAMPLE FAILURE - CONNECTION ERROR:\n{\n  \"status\": \"failure\",\n  \"details\": \"Failed to connect to Snowflake account 'abc123'. Verify that the private key is valid and corresponds to the specified user.\",\n  \"key_validation\": \"invalid\"\n}\n\"\"\"",
                    "modelName": "model"
                }
            ],
            "realmId": 32
        }
    },
    "status": "SUCCESS"
}