{
    "data": {
        "message": "Workflow with agents retrieved successfully",
        "workFlowDetail": {
            "id": 1447,
            "name": "testing ell",
            "description": "Group and normalize the question and their dependencies",
            "createdBy": "venkataramana.nama@ascendion.com",
            "modifiedBy": "venkataramana.nama@ascendion.com",
            "approvedBy": "venkataramana.nama@ascendion.com",
            "createdAt": "2025-11-05T10:13:57.546030",
            "modifiedAt": "2025-12-03T15:03:31.224436",
            "approvedAt": "2025-11-05T10:13:58.633788",
            "status": "APPROVED",
            "isDeleted": false,
            "parentId": -1,
            "workflowConfigs": {
                "managerLlm": [
                    {
                        "id": 29,
                        "topP": 0.95,
                        "maxToken": 8000,
                        "temperature": 0.3,
                        "modelDeploymentName": "anthropic.claude-3-7-sonnet"
                    }
                ],
                "enableAgenticMemory": false
            },
            "workflowAgents": [
                {
                    "serial": 1,
                    "agentId": 3285,
                    "name": "grp agent",
                    "workflowId": 1447,
                    "agentDetails": {
                        "topP": 0.94,
                        "maxRpm": null,
                        "levelId": 127,
                        "maxIter": null,
                        "toolRef": [],
                        "maxToken": "8000",
                        "isVerbose": true,
                        "temperature": 0.3,
                        "allowDelegation": true,
                        "maxExecutionTime": 90,
                        "allowCodeExecution": false,
                        "isSafeCodeExecution": true,
                        "toolReferences": []
                    },
                    "modelDeploymentName": "gpt-4.1",
                    "description": "The agent is tasked with analyzing a dataset of questions to identify duplicates and near-duplicates based on semantic similarity. The agent must follow a structured process to ensure high-quality results, adhering to the specified scope, constraints, and output format. Below are the detailed instructions:\n\n---\n\n### **INSTRUCTIONS**\n\n1. **Context and Background:**\n   - Questions in the dataset may have slight variations in wording but convey the same intent or meaning.\n   - The goal is to group questions that are either identical (exact duplicates) or semantically similar (near-duplicates).\n   - Semantic similarity should account for rewording, synonyms, and paraphrasing while excluding questions with different intents or contexts.\n\n2. **Scope:**\n   - Focus only on the 'question' column (Name) in the provided JSON structure.\n   - Exclude questions listed in the 'dependency-related questions' column.\n   - Ensure that groupings are meaningful and justifiable.\n\n3. **Process Steps:**\n   - **Input Handling:**\n     - Accept Excel file as an input file.\n     - Extract questions from the 'question' column and ignore those in the 'dependency-related questions' column.\n   - **Duplicate Detection:**\n     - Compare each question with every other question in the dataset.\n     - Identify:\n       - **Exact Duplicates:** Questions with identical text.\n       - **Near-Duplicates:** Questions with minor variations in phrasing but the same intent.\n     - Use semantic similarity techniques (e.g., cosine similarity, embeddings, or NLP models like BERT) to detect near-duplicates.\n   - **Grouping:**\n     - Group duplicates and near-duplicates together.\n     - Assign a unique identifier to each group (e.g., Group 1, Group 2, etc.).\n     - For near-duplicates, provide a brief justification for the grouping (e.g., \"Both questions ask about enrollment deadlines using different phrasing\").\n \n4. **Output Format:**\n   - Follow this structure:\n     ```\n     **Duplicate Group 1:**\n     Q1: [Question text]\n     Q2: [Duplicate question text]\n     Reason: [Justification for grouping]\n\n     **Duplicate Group 2:**\n     Q20: [Question text]\n     Q28: [Duplicate question text]\n     Reason: [Justification for grouping]\n     ```\n   - Ensure clarity, consistency, and adherence to industry standards.\n\n5. **Quality Criteria:**\n   - Ensure that no unrelated questions are grouped together.\n   - Provide clear and concise justifications for all groupings.\n   - Maintain consistent formatting throughout the output file.\n\n---\n\n### **OUTPUT FORMAT**\n\n- Type:** `.txt`- **File Name:** `duplicate_question_analysis.txt`\n- **Structure:**  \n  ```\n  **Duplicate Group [Group Number]:**\n  Q[Question ID]: [Question text]\n  Q[Duplicate Question ID]: [Duplicate question text]\n  Reason: [Justification for grouping]\n  ```\n\nInput:\nTake this File as Input: '''%1$s'''\n",
                    "modelName": "model"
                },
                {
                    "serial": 2,
                    "agentId": 3296,
                    "name": "Testing Normalization agent",
                    "workflowId": 1447,
                    "agentDetails": {
                        "topP": 0.94,
                        "maxRpm": null,
                        "levelId": 127,
                        "maxIter": null,
                        "toolRef": [],
                        "maxToken": "8000",
                        "isVerbose": true,
                        "temperature": 0.3,
                        "allowDelegation": true,
                        "maxExecutionTime": 90,
                        "allowCodeExecution": false,
                        "isSafeCodeExecution": true,
                        "toolReferences": []
                    },
                    "modelDeploymentName": "gpt-4.1",
                    "description": "The AI agent is tasked with processing grouped question data to generate a single canonical question for each group and normalize associated dependency columns. The agent must follow a structured approach to ensure consistency, accuracy, and adherence to best practices.  \n\n### **INSTRUCTIONS:**  \n\n#### **Context and Background Information:**  \n- Each group represents variations of the same question, with slight differences in phrasing and associated metadata.  \n- Metadata columns include categorical values (e.g., Category, Topic), numerical/scoring values (e.g., Difficulty, Weight), and text-based metadata (e.g., Tags, Notes).  \n- The goal is to consolidate each group into a single row with a representative question and harmonized metadata.  \n\n#### **Scope and Constraints:**  \n- The agent must handle diverse data types (categorical, numerical, text) in dependency columns.  \n- Ensure that the canonical question is grammatically correct and representative of the group.  \n- Prioritize efficiency and scalability for large datasets.  \n- Avoid introducing errors or losing critical information during normalization.  \n\n#### **Process Steps to Follow:**  \n\n1. **Canonical Question Generation:**  \n   - Analyze all question variations within a group.  \n   - Select the most representative or frequently used phrasing.  \n   - Optionally refine the phrasing to ensure grammatical correctness and clarity.  \n\n2. **Dependency Column Normalization:**  \n   - **Categorical Columns (e.g., Category, Topic, Source):**  \n     - Resolve conflicts by applying majority voting, predefined priority rules, or standardization logic.  \n     - Ensure consistency in formatting and terminology.  \n   - **Numerical/Scoring Columns (e.g., Difficulty, Weight):**  \n     - Aggregate values using appropriate statistical methods (e.g., mean, median, max).  \n     - If values are inconsistent, select the most reliable or representative value.  \n   - **Text-Based Metadata (e.g., Tags, Notes):**  \n     - Merge all values within the group.  \n     - Deduplicate and clean up merged text to remove redundancies.  \n\n3. **Final Output Generation:**  \n   - Produce a single row for each group, containing:  \n     - The canonical question.  \n     - Normalized values for all dependency columns.  \n   - Ensure the output is clean, consistent, and adheres to the specified format. \n\nNOTE: Make sure to provide the output in Json format \nNOTE: Make sure to Normalize the duplicate questions as well as their dependency questions\n\n\n#### **OUTPUT FORMAT:**  \nThe final output should be in **JSON** format, with the following structure:  \n```json\n[\n  {\n    \n  }\n]\n```\n\n### **Quality Criteria:**  \n- **Accuracy:** The canonical question must accurately represent the group.  \n- **Consistency:** Metadata values must follow a standardized format and logic.  \n- **Completeness:** All relevant metadata must be included in the final output.  \n- **Clarity:** The output must be easy to read and interpret.  \n\nInput:\nTake the input from the previous agent's output",
                    "modelName": "model"
                }
            ],
            "realmId": 32
        }
    },
    "status": "SUCCESS"
}