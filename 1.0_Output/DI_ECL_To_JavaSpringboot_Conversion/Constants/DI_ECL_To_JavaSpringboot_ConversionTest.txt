=============================================
Author:        Ascendion AVA+
Created on:   
Description:   JUnit test cases for validating the Constants REST API and constants mapping logic in the Java Spring Boot application.
=============================================

1. Test Case List:

- TC_001  
  Description: Validate that the /api/constants endpoint returns HTTP 200 and correct constant values (happy path).  
  Expected outcome: HTTP 200 OK, JSON body contains "notFoundStatus": "Not found" and "maxJoinLimit": 2000.

- TC_002  
  Description: Validate that the Constants class static fields hold the correct values.  
  Expected outcome: Constants.NOT_FOUND_STATUS equals "Not found"; Constants.MAX_JOIN_LIMIT equals 2000.

- TC_003  
  Description: Validate the ConstantsResponse POJO getter methods.  
  Expected outcome: getNotFoundStatus() returns the string passed in constructor; getMaxJoinLimit() returns the int passed in constructor.

- TC_004  
  Description: Simulate an internal server error in the controller and verify error handling (edge case).  
  Expected outcome: HTTP 5xx status code is returned if an exception is thrown in getConstants().

- TC_005  
  Description: Validate the response when the controller returns a ConstantsResponse with null values (edge case).  
  Expected outcome: JSON response contains "notFoundStatus": null and "maxJoinLimit": 0.

---

2. JUnit Test Script for each test case

```java
package com.ascendion.ava.constants;

import static org.assertj.core.api.Assertions.assertThat;
import static org.mockito.Mockito.doThrow;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;

import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.Mockito;
import org.slf4j.Logger;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
import org.springframework.boot.test.mock.mockito.SpyBean;
import org.springframework.http.MediaType;
import org.springframework.test.context.junit.jupiter.SpringExtension;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

// Test for the REST controller
@ExtendWith(SpringExtension.class)
@WebMvcTest(ConstantsController.class)
class ConstantsControllerTest {

    @Autowired
    private MockMvc mockMvc;

    @SpyBean
    private ConstantsController controller;

    private final ObjectMapper objectMapper = new ObjectMapper();

    // TC_001: Happy path - GET /api/constants returns expected values
    @Test
    @DisplayName("TC_001: /api/constants returns HTTP 200 and correct constants")
    void testGetConstants_HappyPath() throws Exception {
        mockMvc.perform(org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get("/api/constants"))
                .andExpect(status().isOk())
                .andExpect(content().contentType(MediaType.APPLICATION_JSON))
                .andExpect(jsonPath("$.notFoundStatus").value(Constants.NOT_FOUND_STATUS))
                .andExpect(jsonPath("$.maxJoinLimit").value(Constants.MAX_JOIN_LIMIT));
    }

    // TC_004: Simulate internal server error
    @Test
    @DisplayName("TC_004: /api/constants returns 5xx on internal error")
    void testGetConstants_InternalServerError() throws Exception {
        ConstantsController mockController = Mockito.mock(ConstantsController.class);
        Mockito.when(mockController.getConstants()).thenThrow(new RuntimeException("Simulated error"));

        // Use a local controller for this test
        @RestController
        class TestErrorController {
            @GetMapping("/api/constants/error")
            public ConstantsResponse getConstants() {
                throw new RuntimeException("Simulated error");
            }
        }

        MockMvc localMockMvc = org.springframework.test.web.servlet.setup.MockMvcBuilders.standaloneSetup(new TestErrorController()).build();

        localMockMvc.perform(org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get("/api/constants/error"))
                .andExpect(status().is5xxServerError());
    }

    // TC_005: Controller returns ConstantsResponse with null values
    @Test
    @DisplayName("TC_005: /api/constants returns null values in response")
    void testGetConstants_NullValues() throws Exception {
        @RestController
        class NullConstantsController {
            @GetMapping("/api/constants/null")
            public ConstantsResponse getConstants() {
                return new ConstantsResponse(null, 0);
            }
        }

        MockMvc localMockMvc = org.springframework.test.web.servlet.setup.MockMvcBuilders.standaloneSetup(new NullConstantsController()).build();

        localMockMvc.perform(org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get("/api/constants/null"))
                .andExpect(status().isOk())
                .andExpect(jsonPath("$.notFoundStatus").doesNotExist().or(jsonPath("$.notFoundStatus").isEmpty()))
                .andExpect(jsonPath("$.maxJoinLimit").value(0));
    }
}

// Test for the Constants class static fields
class ConstantsTest {

    // TC_002: Validate static fields
    @Test
    @DisplayName("TC_002: Constants static fields have correct values")
    void testConstantsStaticFields() {
        assertThat(Constants.NOT_FOUND_STATUS).isEqualTo("Not found");
        assertThat(Constants.MAX_JOIN_LIMIT).isEqualTo(2000);
    }
}

// Test for the ConstantsResponse POJO
class ConstantsResponseTest {

    // TC_003: Validate getters
    @Test
    @DisplayName("TC_003: ConstantsResponse getters return correct values")
    void testConstantsResponseGetters() {
        ConstantsResponse response = new ConstantsResponse("missing", 1234);
        assertThat(response.getNotFoundStatus()).isEqualTo("missing");
        assertThat(response.getMaxJoinLimit()).isEqualTo(1234);
    }
}
```

---

3. API Cost:

API Cost for this call: 0.01$